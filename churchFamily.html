<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CTC</title>
    <link rel="icon" type="image/jpg" href="assets/ctcooljc-noBG.png" />

    <link rel="stylesheet" href="/styles/general.css" />
    <link rel="stylesheet" href="/styles/gallery/church-family.css" />
    <link rel="stylesheet" href="/styles/gallery/churchFamilyNav.css" />
    <link rel="stylesheet" href="/styles/footer.css" />
  </head>
  <body>
    <header class="gallery-navbar-section">
      <nav class="gallery-navbar">
        <div class="left-nav">
          <div class="img-area">
            <a href="home.html">
              <img
                class="church-logo"
                src="/assets/ctcooljc-noBG.png"
                alt="church-logo"
              />
            </a>
          </div>
        </div>

        <div class="right-nav">
          <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="churchFamily.html">Gallery</a></li>
            <li><a href="mothers.html">Mothers</a></li>
            <li><a href="baptism.html">Baptisms</a></li>
            <li><a href="live.html">Services</a></li>
            <li><a href="events.html">Events</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="donation.html">Donate</a></li>
          </ul>
        </div>

        <div class="hamburger">
          <button id="bTn">
            <img
              class="hamburger-icon"
              src="/assets/icons/hamburger.png"
              alt="hamburger-icon"
            />
          </button>
        </div>

        <div id="menu" class="menu">
          <button id="closeMenu" class="close-menu">&times;</button>
          <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="churchFamily.html">Gallery</a></li>
            <li><a href="mothers.html">Mothers</a></li>
            <li><a href="baptism.html">Baptisms</a></li>
            <li><a href="live.html">Services</a></li>
            <li><a href="events.html">Events</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="donation.html">Donate</a></li>
          </ul>
        </div>
      </nav>
    </header>
    <script>
      document.getElementById("bTn").addEventListener("click", function () {
        document.getElementById("menu").classList.toggle("active");
      });

      document.addEventListener("click", function (event) {
        const menu = document.getElementById("menu");
        const menuButton = document.getElementById("bTn");

        if (
          !menu.contains(event.target) &&
          !menuButton.contains(event.target)
        ) {
          menu.classList.remove("active");
        }
      });
      document
        .getElementById("closeMenu")
        .addEventListener("click", function () {
          document.getElementById("menu").classList.remove("active");
        });
    </script>

    <section class="church-family-section" id="church-family-section">
      <div class="decorative-cross top-left">✝</div>
      <div class="decorative-cross bottom-right">✝</div>

      <h1>Church Family</h1>

      <div class="section-divider">
        <div class="divider-line"></div>
        <div class="divider-icon">✦</div>
        <div class="divider-line"></div>
      </div>

      <div class="gallery-container">
        <!-- Featured Image Carousel -->
        <div class="featured-image-container">
          <div class="featured-image-wrapper">
            <!-- Images will be loaded here via JavaScript -->
          </div>
          <div class="featured-caption">Our Church Family Moments</div>
        </div>

        <p>Click on any image to view it larger</p>

        <!-- Gallery Grid -->
        <div class="gallery-grid">
          <!-- Images will be loaded here via JavaScript -->
        </div>
      </div>

      <!-- Modal for enlarged images -->
      <div class="modal" id="imageModal">
        <span class="close-modal">&times;</span>
        <div class="modal-content">
          <img id="modalImage" src="" alt="Enlarged church family photo" />
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const imageSources = [
          {
            src: "assets/church-family-assets/churchfamily/hall-of-faith-family-photo.jpg",
            alt: "Church Family Photo",
            caption: "Hall of Faith Family Gathering",
          },
          {
            src: "assets/event-assets/hall-of-faith-2024/hall-of-faith-church-family9.jpg",
            alt: "Church Family Photo",
            caption: "Celebrating Together in Faith",
          },
          {
            src: "assets/church-family-assets/churchfamily/tyrell_simon_zay.jpg",
            alt: "Tyrell family",
            caption: "Tyrell, Simon & Zay",
          },
          {
            src: "assets/event-assets/hall-of-faith-2024/hall-of-faith-church-family7.jpg",
            alt: "Church Family Photo",
            caption: "Hall of Faith 2024",
          },
          {
            src: "assets/church-family-assets/churchfamily/church-family-2017-EasterDay1.jpg",
            alt: "Church Family Easter Day 1",
            caption: "Easter Day Celebration 2017",
          },
          {
            src: "assets/church-family-assets/churchfamily/church-family-at-hof-2024-2.jpg",
            alt: "Church Family at hof",
            caption: "Church Family at HOF 2024",
          },
          {
            src: "assets/church-family-assets/churchfamily/church-family-shannon.jpg",
            alt: "Church Family Shannon",
            caption: "Church Family with Shannon",
          },
          {
            src: "assets/church-family-assets/churchfamily/church-family-jasmine.jpg",
            alt: "Church Family jasmine",
            caption: "Church Family with Jasmine",
          },
          {
            src: "assets/church-family-assets/churchfamily/church-family-angel-family.jpg",
            alt: "Church Family Angel family",
            caption: "Angel Family",
          },
          {
            src: "assets/church-family-assets/churchfamily/church-family-2017-EasterDay2.jpg",
            alt: "Church Family Easter Day 2",
            caption: "Easter Day Celebration 2017",
          },
          {
            src: "assets/church-family-assets/churchfamily/church-family-pastor-and-tj.jpg",
            alt: "Church Family Pastor With TJ",
            caption: "Pastor with TJ",
          },
          {
            src: "assets/church-family-assets/churchfamily/church-family-2024-pentecost1.jpg",
            alt: "Church Family Pentecost 1",
            caption: "Pentecost Celebration 2024",
          },
        ];

        // Load images into featured carousel
        const featuredWrapper = document.querySelector(
          ".featured-image-wrapper"
        );
        const featuredCaption = document.querySelector(".featured-caption");

        imageSources.forEach((img, index) => {
          const imgElement = document.createElement("img");
          imgElement.src = img.src;
          imgElement.alt = img.alt;
          imgElement.classList.add("featured-image");
          imgElement.dataset.caption = img.caption;

          if (index === 0) {
            imgElement.classList.add("active");
            featuredCaption.textContent = img.caption;
          }

          featuredWrapper.appendChild(imgElement);
        });

        // Load images into gallery grid
        const galleryGrid = document.querySelector(".gallery-grid");

        imageSources.forEach((img) => {
          const galleryItem = document.createElement("div");
          galleryItem.classList.add("gallery-item");

          const imgElement = document.createElement("img");
          imgElement.src = img.src;
          imgElement.alt = img.alt;
          imgElement.dataset.caption = img.caption;

          galleryItem.appendChild(imgElement);
          galleryGrid.appendChild(galleryItem);
        });

        // Carousel functionality
        let currentIndex = 0;
        const featuredImages = document.querySelectorAll(".featured-image");

        function showNextImage() {
          featuredImages[currentIndex].classList.remove("active");
          featuredImages[currentIndex].classList.add("prev");

          currentIndex = (currentIndex + 1) % featuredImages.length;

          featuredImages.forEach((img, idx) => {
            if (idx !== currentIndex) {
              img.classList.remove("active", "prev");
            }
          });

          featuredImages[currentIndex].classList.add("active");
          featuredCaption.textContent =
            featuredImages[currentIndex].dataset.caption;
        }

        // Start the carousel
        setInterval(showNextImage, 5000);

        // Modal functionality
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImage");
        const closeModal = document.querySelector(".close-modal");
        const galleryItems = document.querySelectorAll(".gallery-item");

        galleryItems.forEach((item) => {
          item.addEventListener("click", function () {
            const imgSrc = this.querySelector("img").src;
            modalImg.src = imgSrc;
            modal.classList.add("active");
            document.body.style.overflow = "hidden";
          });
        });

        // Also make the featured image clickable
        featuredWrapper.addEventListener("click", function () {
          const activeImg = document.querySelector(".featured-image.active");
          modalImg.src = activeImg.src;
          modal.classList.add("active");
          document.body.style.overflow = "hidden";
        });

        closeModal.addEventListener("click", function () {
          modal.classList.remove("active");
          document.body.style.overflow = "auto";
        });

        // Close modal when clicking outside the image
        modal.addEventListener("click", function (e) {
          if (e.target === modal) {
            modal.classList.remove("active");
            document.body.style.overflow = "auto";
          }
        });

        // Add touch swipe capability for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        featuredWrapper.addEventListener("touchstart", (e) => {
          touchStartX = e.changedTouches[0].screenX;
        });

        featuredWrapper.addEventListener("touchend", (e) => {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipe();
        });

        function handleSwipe() {
          if (touchEndX < touchStartX) {
            // Swipe left - next image
            showNextImage();
          }
          if (touchEndX > touchStartX) {
            // Swipe right - previous image
            featuredImages[currentIndex].classList.remove("active");
            currentIndex =
              (currentIndex - 1 + featuredImages.length) %
              featuredImages.length;
            featuredImages.forEach((img, idx) => {
              if (idx !== currentIndex) img.classList.remove("active", "prev");
            });
            featuredImages[currentIndex].classList.add("active");
            featuredCaption.textContent =
              featuredImages[currentIndex].dataset.caption;
          }
        }
      });
    </script>

    <!--Footer section-->
    <footer>
      <div class="footer-container">
        <div class="footer-content">
          <p>
            C.T.C.O.O.L.J.C
            <span class="footer-year" id="footer-year"></span>
          </p>
          <div class="contact-info">
            <p>
              Secretary Sister Shannon Singletary Contact Information:
              843-372-5839
            </p>
            <p>Address: 385 McClam Rd, Cades, SC 29518</p>
          </div>
        </div>
      </div>
    </footer>

    <script src="js/script.js" type="module"></script>
  </body>
</html>
