<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CTC</title>
    <link rel="icon" type="image/jpg" href="assets/ctcooljc-noBG.png" />

    <link rel="stylesheet" href="/styles/general.css" />
    <link rel="stylesheet" href="/styles/events/eventsNav.css" />
    <link rel="stylesheet" href="/styles/events/calander.css" />
    <link rel="stylesheet" href="/styles/events/pastEvents.css" />
    <link rel="stylesheet" href="/styles/events/countdown.css" />
    <link rel="stylesheet" href="/styles/footer.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Anton+SC&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya+SC:ital,wght@0,400;0,500;0,700;0,800;0,900;1,400;1,500;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Rampart+One&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Events navbar section -->
    <header class="events-navbar-section">
      <nav class="events-navbar">
        <div class="left-nav">
          <div class="img-area">
            <a href="home.html">
              <img
                class="church-logo"
                src="/assets/ctcooljc-noBG.png"
                alt="church-logo"
              />
            </a>
          </div>
        </div>

        <div class="right-nav">
          <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="mothers.html">Mothers</a></li>
            <li><a href="live.html">Services</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="donation.html">Donate</a></li>
          </ul>
        </div>

        <div class="hamburger">
          <button id="bTn">
            <img
              class="hamburger-icon"
              src="/assets/icons/hamburger.png"
              alt="hamburger-icon"
            />
          </button>
        </div>

        <div id="menu" class="menu">
          <button id="closeMenu" class="close-menu">&times;</button>
          <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="mothers.html">Mothers</a></li>
            <li><a href="live.html">Services</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="donation.html">Donate</a></li>
          </ul>
        </div>
      </nav>
    </header>
    <script>
      document.getElementById("bTn").addEventListener("click", function () {
        document.getElementById("menu").classList.toggle("active");
      });

      document.addEventListener("click", function (event) {
        const menu = document.getElementById("menu");
        const menuButton = document.getElementById("bTn");

        if (
          !menu.contains(event.target) &&
          !menuButton.contains(event.target)
        ) {
          menu.classList.remove("active");
        }
      });

      document
        .getElementById("closeMenu")
        .addEventListener("click", function () {
          document.getElementById("menu").classList.remove("active");
        });
    </script>

    <!--Countdown clock background-->
    <div class="event-image-container">
      <img
        src="assets/event-assets/worship-event.jpg"
        alt="join our church evnts photo"
      />

      <div class="countdown-container">
        <h2>Hall Of Faith Finale:</h2>
        <div class="countdown-clock">
          <div class="time-box">
            <span id="days" class="time">00</span>
            <span class="label">Days</span>
          </div>
          <div class="time-box">
            <span id="hours" class="time">00</span>
            <span class="label">Hours</span>
          </div>
          <div class="time-box">
            <span id="minutes" class="time">00</span>
            <span class="label">Minutes</span>
          </div>
          <div class="time-box">
            <span id="seconds" class="time">00</span>
            <span class="label">Seconds</span>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const countdown = () => {
          const countDate = new Date("October 27, 2024 10:30:00").getTime();
          const now = new Date().getTime();
          const gap = countDate - now;

          const second = 1000;
          const minute = second * 60;
          const hour = minute * 60;
          const day = hour * 24;

          const days = Math.floor(gap / day);
          const hours = Math.floor((gap % day) / hour);
          const minutes = Math.floor((gap % hour) / minute);
          const seconds = Math.floor((gap % minute) / second);

          document.getElementById("days").innerText = days;
          document.getElementById("hours").innerText = hours;
          document.getElementById("minutes").innerText = minutes;
          document.getElementById("seconds").innerText = seconds;
        };

        setInterval(countdown, 1000);
        countdown(); // Initial call to populate the countdown immediately
      });
    </script>

    <!-- Calendar/Event/section -->
    <section class="calendar-section">
      <div class="full-calendar-container">
        <iframe
          class="cal"
          src="https://calendar.google.com/calendar/embed?height=600&wkst=1&ctz=America%2FNew_York&bgcolor=%23039BE5&showCalendars=0&showTabs=0&showTitle=0&src=NmJiY2RhYTJjNDk4MDFhOGY2ZGM5NThmZjdlZWQ5ZGQ1MzFjMjFlYjE1ZTcyZjJhZTE2OWU1Zjc0MjQ5MThjZUBncm91cC5jYWxlbmRhci5nb29nbGUuY29t&color=%238E24AA"
          style="border: solid 1px #777"
          frameborder="0"
          scrolling="yes"
        ></iframe>
      </div>
      <div class="all-event-content">
        <div class="upcoming-events-calendar">
          <h2>Upcoming Events</h2>
          <ul class="events-list">
            <li class="event-item">
              <strong>Hall Of Faith Service (Prayer and Baptism):</strong>
              <p>
                Fri, October 25th, 2024<br />
                Celebrating Our Church Mothers
              </p>
              <span class="event-time">6:30 PM - 7:00 AM</span>
            </li>

            <li class="event-item">
              <strong>Hall Of Faith Service (FREE Breakfast):</strong>
              <p>
                Sat, October 26th, 2024<br />
                Celebrating Our Church Mothers
              </p>
              <span class="event-time">9:00 AM - 11:30 AM</span>
            </li>

            <li class="event-item">
              <strong>Hall Of Faith Service:</strong>
              <p>
                Sun, October 27th, 2024<br />
                Celebrating Our Church Mothers
              </p>
              <span class="event-time">10:30 AM</span>
            </li>

            <li class="event-item">
              <strong>Pastor Appreciation Service:</strong>
              <p>Sun, Dec 1st, 2024</p>
              <p>Celebrating the Pastor</p>
              <span class="event-time">11:30 AM</span>
            </li>

            <li class="event-item">
              <strong>Watch Night Service:</strong>
              <p>
                Tue, Dec 31st, 2024<br />
                Bringing in the New Year!
              </p>
              <span class="event-time">9:00 PM</span>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Past events section -->
    <div class="past-events-section">
      <h2>Past Events</h2>

      <!-- Event 1 -->
      <div class="event-card">
        <div class="event-header">
          <h3>Pentecost Celebration</h3>
          <span class="event-date">May 18, 2024</span>
          <p>
            The Pentecost Celebration, held on May 18, 2024, was a day filled
            with great food, heartfelt worship, and overall an amazing time for
            everyone involved. It was a memorable celebration of faith,
            fellowship, and good times.
          </p>
        </div>
        <div class="event-media">
          <video controls class="dynamic-video" preload="metadata">
            <source
              src="assets/event-assets/pentecost-may-2024/pt-1.mp4"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
          <video controls class="dynamic-video" preload="metadata">
            <source
              src="assets/event-assets/pentecost-may-2024/pt-2.mp4"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
        </div>
      </div>

      <!-- Event 2 -->
      <div class="event-card">
        <div class="event-header">
          <h3>Pastor Gillard Birthday Bash</h3>
          <span class="event-date">June 24, 2023</span>
          <p>
            The community came together to celebrate Pastor Gillard's Birthday
            in 2023 with great joy. The event featured music, praise, and
            heartfelt tributes, with good food, making it a memorable day for
            everyone.
          </p>
        </div>
        <div class="event-media">
          <video controls class="dynamic-video" preload="metadata">
            <source
              src="assets/event-assets/pastor-bithday-bash-2024/bp-2.mp4"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
          <video controls class="dynamic-video" preload="metadata">
            <source
              src="assets/event-assets/pastor-bithday-bash-2024/bp-3.mp4"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
          <video controls class="dynamic-video" preload="metadata">
            <source
              src="assets/event-assets/pastor-bithday-bash-2024/bp-5.mp4"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
          <video controls class="dynamic-video" preload="metadata">
            <source
              src="assets/event-assets/pastor-bithday-bash-2024/bp-4.mp4"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
          <!-- More videos here -->
        </div>
      </div>

      <!-- Event 3 -->
      <div class="event-card">
        <div class="event-header">
          <h3>Resurrection Play</h3>
          <span class="event-date">April 9, 2023</span>
          <p>
            The Resurrection Play of 2023 was a profound showcasing of the
            crucifixion and resurrection of Jesus Christ. The event was filled
            with emotional performances that touched the hearts of many.
          </p>
        </div>
        <div class="event-media">
          <video controls class="dynamic-video" preload="metadata">
            <source
              src="assets/event-assets/resurrection_play_2023/res_play_2023.mp4"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
    </div>

    <!-- JavaScript to auto-generate thumbnails for all videos -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const videos = document.querySelectorAll(".dynamic-video"); // Select all video elements

        videos.forEach(function (video) {
          const canvas = document.createElement("canvas");
          const context = canvas.getContext("2d");

          video.addEventListener("loadeddata", function () {
            video.currentTime = 0.1; // Set time to capture the first frame (small to avoid black frame)

            video.addEventListener("timeupdate", function captureFrame() {
              if (video.currentTime >= 0.1) {
                // Set canvas size to match the video
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;

                // Draw the current frame of the video onto the canvas
                context.drawImage(video, 0, 0, canvas.width, canvas.height);

                // Convert the canvas to a data URL (image) and set it as the poster
                const thumbnail = canvas.toDataURL("image/jpeg");
                video.setAttribute("poster", thumbnail);

                // Remove the event listener once the thumbnail is captured
                video.removeEventListener("timeupdate", captureFrame);

                // Reset the video to the start and pause it
                video.currentTime = 0;
                video.pause();
              }
            });
          });
        });
      });
    </script>

    <!--Footer section-->
    <footer>
      <div class="footer-container">
        <div class="footer-content">
          <p>
            C.T.C.O.O.L.J.C
            <span class="footer-year" id="footer-year"></span>
          </p>
          <div class="contact-info">
            <p>
              Secretary Sister Shannon Singletary Contact Information:
              843-372-5839
            </p>
            <p>Address: 385 McClam Rd, Cades, SC 29518</p>
          </div>
        </div>
      </div>
    </footer>

    <script src="js/script.js" type="module"></script>
  </body>
</html>
